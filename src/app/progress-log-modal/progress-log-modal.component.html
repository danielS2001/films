
<div class="container">
    <h2 class="flex-center">Current watched time</h2>
    <form [formGroup]="progressGroup">
        <div class="grid-noBottom">
            
            <div class="col-12 flex-center">
                <mat-label>Name of the film: <span class="bold-font">"{{movieObj.name}}" </span></mat-label>
            </div>
            <br><br>

            <div class="col-12 flex-center">
                <mat-label>Running time: <span class="bold-font">{{movieObj.duration}} minutes.</span></mat-label>
            </div>
            <br><br>

            <div class="col-12">
                <mat-form-field class="full-width">
                    <mat-label>Record in minutes</mat-label>
                    <input matInput formControlName="fprogress" type="number" required
                    placeholder="Ex. 90" min="1" [max]="movieObj.duration">
                </mat-form-field>
            </div> 

            <div class="col-12 flex-center">
                <mat-error *ngIf="progressGroup.get('fprogress')?.hasError('required') && 
                progressGroup.get('fprogress')?.touched">Error: Avoid letters and empty!</mat-error>
                <mat-error *ngIf="progressGroup.get('fprogress')?.hasError('min') && 
                progressGroup.get('fprogress')?.touched">Error: Record more than 1 minute!</mat-error>
                <mat-error *ngIf="progressGroup.get('fprogress')?.hasError('max') && 
                progressGroup.get('fprogress')?.touched">Error: You're exceeding the total duration.</mat-error>
            </div>
            <br>

            <div class="col-12 flex-right">
                <button mat-flat-button color="primary" class="margin-r15" 
                [disabled]="progressGroup.invalid" (click)="record()">Record</button>
                <button mat-flat-button color="warn" class="margin-r15" (click)="closeModal()">Close</button>
            </div>
        </div>
    </form>
</div>